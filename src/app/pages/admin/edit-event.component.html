<app-header></app-header>

<div class="form-container" *ngIf="event">
  <div class="form-card">
    <h2>Edit Event</h2>

    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

    <form (ngSubmit)="updateEvent()">
      <div class="form-group">
        <label for="title">Event Title *</label>
        <input 
          id="title"
          type="text" 
          [(ngModel)]="event.title" 
          name="title"
          placeholder="Enter event title">
      </div>

      <div class="form-group">
        <label for="description">Description *</label>
        <textarea 
          id="description"
          [(ngModel)]="event.description" 
          name="description"
          placeholder="Describe your event"
          rows="5"></textarea>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="date">Date *</label>
          <input 
            id="date"
            type="date" 
            [(ngModel)]="event.date" 
            name="date">
        </div>

        <div class="form-group">
          <label for="time">Time *</label>
          <input 
            id="time"
            type="time" 
            [(ngModel)]="event.time" 
            name="time">
        </div>
      </div>

      <div class="form-group">
        <label for="location">Location *</label>
        <input 
          id="location"
          type="text" 
          [(ngModel)]="event.location" 
          name="location"
          placeholder="Enter event location">
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="category">Category</label>
          <select [(ngModel)]="event.category" name="category" id="category">
            <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
          </select>
        </div>

        <div class="form-group">
          <label for="attendees">Expected Attendees</label>
          <input 
            id="attendees"
            type="number" 
            [(ngModel)]="event.attendees" 
            name="attendees"
            placeholder="0">
        </div>
      </div>

      <div class="form-group">
        <label for="imageUrl">Image URL</label>
        <input 
          id="imageUrl"
          type="text" 
          [(ngModel)]="event.imageUrl" 
          name="imageUrl"
          placeholder="https://example.com/image.jpg">
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-primary">Update Event</button>
        <a routerLink="/admin" class="btn btn-secondary">Cancel</a>
      </div>
    </form>
  </div>
</div>

<div class="form-container" *ngIf="!event">
  <p>Event not found</p>
</div>
